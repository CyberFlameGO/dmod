export const user_flags = {
  STAFF: 1 << 0, // 1
  EARLY_SUPPORTER: 1 << 1, // 2
  VERIFIED: 1 << 2, // 4
  TOP_RANKING: 1 << 3, // 8
  ADMIN: 1 << 4, // 16
  SITE_MOD: 1 << 5, // 32
  DEVELOPER: 1 << 6, // 64
  COMMUNITY_STAFF: 1 << 7, // 128
  DISPATCH_MOD: 1 << 8, // 256
  GRAPHIC_DESIGNER: 1 << 9, // 512
  PREMIUM: 1 << 10, // 1024

  // // FIVE_STAR: 1 << 5, // 32
  // // FOUR_STAR: 1 << 6, // 64
  // // THREE_STAR: 1 << 7, // 128
};

export const DEFAULT_FLAGS = 2;

export function evalFlags(flags: number): { [key: string]: boolean } {
  return Object.keys(user_flags).reduce((all, nameFlag) => {
    return { ...all, [nameFlag]: (flags & user_flags[nameFlag]) === user_flags[nameFlag] };
  }, {});
}

export const user_badges = {
  STAFF: (
    <svg width='40' height='40' viewBox='0 0 299 285' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M298.511 142.419C298.511 157.126 274.663 168.111 270.191 181.329C265.72 194.549 278.388 218.566 270.191 229.551C261.993 240.536 235.91 236.067 224.359 244.445C212.806 252.824 209.638 278.702 195.666 283.358C181.693 288.013 164.552 268.463 149.647 268.463C134.743 268.463 117.042 287.08 103.628 283.358C90.2131 279.634 86.4876 252.824 74.935 244.445C63.3839 236.067 37.6723 241.094 29.1023 229.551C20.5307 218.007 33.3873 195.294 29.1023 181.329C24.8173 167.367 0.409668 157.126 0.409668 142.419C0.409668 127.711 24.2577 116.726 28.7292 103.506C33.2008 90.2882 20.5306 66.2699 28.7292 55.2863C36.9279 44.301 63.1974 48.7698 74.935 40.3905C86.6725 32.0128 89.467 6.13503 103.441 0.921494C117.414 -4.29204 134.555 16.3738 149.46 16.3738C164.365 16.3738 182.065 -2.24428 195.479 1.47968C208.892 5.20363 212.433 32.0128 223.986 40.3905C235.537 48.7698 261.246 43.7429 269.818 55.2863C278.388 66.8281 265.533 89.5417 269.818 103.506C274.103 117.471 298.509 127.709 298.509 142.419H298.511Z'
        fill='#0052D6'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M146.074 97.2801C146.066 96.935 145.351 96.2034 145.13 95.921L143.002 93.2424C139.805 89.2674 134.472 88.1907 129.687 87.2378C128.999 87.1007 128.284 87.1404 127.472 87.0512C126.235 86.9158 119.631 86.7655 118.048 86.7655C105.137 86.7655 92.2261 86.7655 79.315 86.7655C77.0668 86.7655 74.7956 86.3873 73.7541 88.412C73.4999 88.909 73.3101 89.7067 73.3563 90.3326C73.5709 93.3018 73.4091 96.9135 73.4091 99.9818V191.908C73.4091 193.863 73.3052 194.856 73.9753 196.25C75.9313 200.322 81.7134 199.645 83.6908 197.287C84.3345 196.517 85.1136 195.173 85.1252 193.816C85.1796 187.357 85.2209 181.025 85.2209 174.484L85.32 157.762C85.32 157.36 85.3167 156.958 85.3167 156.556C85.3183 155.977 85.4091 155.874 85.4239 155.361C85.5543 150.994 85.4206 145.432 85.4206 140.838C85.4206 139.107 85.5213 137.725 85.5213 136.032C85.5213 123.133 85.721 110.351 85.721 97.4799C89.0074 97.4799 117.71 97.6269 118.35 97.3792C118.506 97.7524 118.161 97.4882 119.336 97.5955L122.383 97.9506C125.488 98.4625 129.254 99.4187 131.958 100.989C132.199 101.13 132.379 101.258 132.663 101.386C133.341 101.869 133.536 101.866 134.451 102.601C134.644 102.755 134.812 102.864 135.025 103.029C135.642 103.509 136.535 104.413 137.012 105.047L141.872 112.001C142.141 112.41 142.408 112.751 142.692 113.182C144.336 115.667 146.68 118.758 148.418 121.272C150.574 124.388 152.84 127.405 155.04 130.467C157.061 133.279 161.583 139.697 164.109 141.322C166.071 142.585 168.217 142.597 170.069 141.213C171.523 140.126 173.189 137.459 174.359 135.692L183.228 122.735C183.766 121.928 184.283 121.201 184.809 120.412C185.083 120 185.35 119.65 185.631 119.231L188.054 115.647C188.366 115.219 188.574 114.911 188.873 114.463C189.17 114.017 189.409 113.705 189.695 113.282C189.969 112.879 190.177 112.557 190.454 112.14C193.028 108.262 195.911 104.252 198.503 100.363L204.887 90.9304C205.704 89.7067 206.031 88.7588 205.374 87.2213C205.242 86.9108 205.169 86.8233 205.029 86.564C204.268 85.157 202.446 83.0861 200.328 83.5667C198.907 83.8887 197.544 84.8713 196.718 85.9629L195.419 87.6672C195.256 87.8951 195.191 88.0107 194.997 88.2452L189.058 96.1208C188.457 96.9217 187.914 97.612 187.328 98.3965C185.94 100.249 181.755 105.943 180.531 107.417L168.613 123.231C168.313 123.63 168.074 123.967 167.755 124.375C167.568 124.614 167.489 124.687 167.313 124.933C167.034 125.32 167.062 125.346 166.796 125.419C166.677 124.974 162.716 119.65 162.476 119.325L156.47 111.013C154.675 108.582 152.86 105.81 150.957 103.511L149.834 102.03C149.648 101.779 149.509 101.506 149.278 101.384C149.123 101.001 148.007 99.6119 147.753 99.3047C147.466 98.9563 147.238 98.621 146.977 98.2792L146.294 97.4403C146.115 97.2834 146.37 97.4634 146.076 97.2784L146.074 97.2801ZM155.781 169.678C156.141 169.957 160.151 176.177 161.11 177.065C161.494 177.422 162.145 177.879 162.618 178.16C165.261 179.726 167.639 180.319 170.337 178.433C171.67 177.5 173.402 174.928 174.419 173.406L176.941 169.815C177.091 169.553 176.977 169.782 177.099 169.479L190.289 150.832C190.517 150.492 191.573 149.118 191.611 148.851C191.869 149.518 191.71 186.521 191.71 191.91C191.71 194.636 191.39 196.385 193.534 198.697C193.618 198.79 193.686 198.874 193.772 198.96C195.343 200.532 197.78 201.077 199.906 200.309C202.225 199.472 203.189 197.485 203.821 195.416L203.824 129.121C203.826 128.399 203.608 127.797 203.357 127.286C202.4 125.329 200.148 123.678 197.539 124.241C195.913 124.593 195.748 125.012 194.87 126.177C191.283 130.936 187.445 135.737 183.918 140.455L172.007 155.975C171.665 156.434 171.345 156.824 171.007 157.276L168.014 161.192C167.752 161.509 167.238 162.287 166.991 162.47C166.7 162.257 166.094 161.311 165.817 160.939C165.395 160.373 165.076 159.879 164.645 159.309L157.597 149.538C156.788 148.439 156.047 147.412 155.237 146.291C154.824 145.72 154.448 145.237 154.06 144.666C153.36 143.639 148.42 136.766 148.174 136.635C147.944 136.072 147.03 134.942 146.672 134.434L140.451 125.836C139.909 125.105 139.442 124.428 138.892 123.691C138.508 123.176 136.212 119.655 135.662 119.412C135.68 119.122 135.693 119.206 135.292 118.683L131.616 113.547C130.558 111.798 128.063 109.923 126.084 109.07C123.766 108.07 121.021 107.397 117.746 107.397H102.734C100.126 107.397 98.2508 107.014 95.9928 108.161C93.7001 109.327 93.6258 110.873 93.6258 113.304V153.359C93.6192 156.185 94.9166 158.66 97.6286 159.369C100.367 160.085 103.112 159.413 104.809 157.136C105.363 156.391 106.212 154.773 106.242 153.562C106.281 151.916 106.238 150.205 106.238 148.552V118.511C109.351 118.511 112.662 118.288 115.671 118.886C116.507 119.052 117.908 119.596 118.248 119.513C118.449 119.786 118.235 119.574 118.507 119.749C118.648 119.84 118.745 119.857 118.862 119.903C119.158 120.014 119.298 120.086 119.55 120.212C120.745 120.811 122.099 121.721 122.909 122.758L131.786 135.405C131.97 135.649 132.339 136.415 132.66 136.435C132.726 136.804 132.752 136.792 132.937 137.064L155.78 169.68L155.781 169.678ZM104.036 188.906C100.918 188.906 99.1818 188.427 96.4401 189.416C93.096 190.625 91.7706 193.497 93.1257 196.417C93.9543 198.2 96.7026 199.52 98.6305 199.52H102.433C104.157 199.52 105.616 199.32 107.24 199.323C108.004 199.325 108.807 199.136 109.538 199.118C110.903 199.084 115.029 198.558 116.444 198.317C117.92 198.066 119.326 197.87 120.788 197.556C123.261 197.026 124.639 196.615 126.894 196.055C129.314 195.454 134.285 193.586 136.261 192.608C139.739 190.889 142.644 189.423 145.747 186.878C146.733 186.07 147.55 185.37 148.448 184.472C150.792 182.127 154.527 177.676 151.551 174.507C151.087 174.012 150.783 173.733 150.194 173.361C147.532 171.673 143.938 174.068 142.22 176.142C141.84 176.601 141.631 176.667 141.238 177.06L140.239 177.965C140.054 178.13 139.972 178.249 139.779 178.406L134.725 181.863C133.031 182.764 131.46 183.6 129.598 184.343C125.966 185.791 122.203 186.881 117.901 187.661C113.697 188.422 108.915 188.906 104.031 188.906H104.036ZM214.334 90.1707V195.614C214.334 196.666 215.517 198.383 216.108 198.947C218.254 200.996 221.839 200.793 223.67 198.947C224.397 198.21 224.272 198.43 224.865 197.54C225.127 197.143 225.644 196.212 225.644 195.616V89.9726C225.644 88.6878 224.714 87.2361 224.019 86.5904C222.045 84.7574 218.178 84.8895 216.21 86.6416C215.474 87.2973 214.334 88.8529 214.334 90.1724V90.1707Z'
        fill='white'
      />
    </svg>
  ),
  PREMIUM: (
    <svg width='40' height='40' viewBox='0 0 299 285' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M298.346 142.419C298.346 157.126 274.498 168.111 270.026 181.329C265.555 194.549 278.223 218.566 270.026 229.551C261.828 240.536 235.744 236.067 224.193 244.445C212.642 252.824 209.473 278.702 195.501 283.358C181.527 288.013 164.387 268.463 149.482 268.463C134.577 268.463 116.877 287.08 103.463 283.358C90.048 279.634 86.3226 252.824 74.7699 244.445C63.2189 236.067 37.5072 241.094 28.9372 229.551C20.3656 218.007 33.2222 195.294 28.9372 181.329C24.6523 167.367 0.244629 157.126 0.244629 142.419C0.244629 127.711 24.0927 116.726 28.5642 103.506C33.0357 90.2882 20.3656 66.2699 28.5642 55.2863C36.7612 44.301 63.0307 48.7698 74.7699 40.3905C86.5074 32.0128 89.3036 6.13503 103.276 0.921494C117.248 -4.29204 134.39 16.3738 149.295 16.3738C164.2 16.3738 181.9 -2.24428 195.314 1.47968C208.727 5.20363 212.268 32.0128 223.82 40.3905C235.371 48.7698 261.081 43.7429 269.653 55.2863C278.223 66.8281 265.368 89.5417 269.653 103.506C273.938 117.471 298.344 127.709 298.344 142.419H298.346Z'
        fill='#00005B'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M112.948 112.898C112.948 108.051 118.287 107.843 122.586 106.768C124.292 106.34 134.506 103.944 135.112 103.528L144.352 88.9639C146.279 85.813 146.61 85.2218 149.832 85.2218C152.513 85.2218 155.194 90.6236 156.958 93.5681L161.42 100.711C163.62 104.39 162.734 103.478 168.75 104.983C170.962 105.536 172.725 105.977 174.937 106.53C177.058 107.06 182.518 108.124 183.832 109.237C185.253 110.441 185.228 111.706 185.228 113.195C185.228 115.134 177.64 123.495 175.617 125.9C175.021 126.608 174.578 127.17 173.991 127.843C173.626 128.263 173.542 128.317 173.156 128.795C172.928 129.075 172.263 129.848 172.203 129.939C171.426 131.128 172.005 131.514 172.121 132.85L173.223 150.285C172.251 158.05 162.682 152.235 159.013 150.73L149.421 146.935C148.532 146.817 147.883 147.35 147.116 147.675C146.275 148.03 145.571 148.29 144.775 148.608C143.131 149.267 141.632 149.867 139.889 150.564C136.2 152.04 131.953 154.263 129.01 154.263C124.03 154.263 125.121 146.985 125.611 143.722C125.859 142.082 126.666 130.71 126.225 129.969C126.125 129.799 124.826 128.241 124.616 128.005L115.921 117.657C115.08 116.569 112.946 114.673 112.946 112.896L112.948 112.898ZM146.799 65.8771H150.686C155.063 66.0241 159.446 66.6565 163.754 67.7217C173.436 70.1146 181.328 75.1944 188.574 81.5788C190.707 83.4565 194.907 88.6287 196.479 90.9308C207.039 106.416 209.799 129.359 201.097 146.628C195.579 157.579 190.956 162.896 181.58 169.956C180.278 170.937 178.56 171.912 177.186 172.703C160.485 182.339 137.504 182.552 121.259 172.736C113.554 168.08 114.821 168.376 109.168 163.702L105.738 159.992C102.625 156.491 99.5943 151.303 97.4798 147.122C96.7123 145.603 95.9893 143.69 95.4347 142.026C95.098 141.012 94.7761 140.343 94.5021 139.387C92.5346 132.528 92.1252 128.37 92.1252 120.932C92.1252 111.858 95.0831 104.003 98.7244 96.2863C100.233 93.0875 104.744 86.8171 107.215 84.2475C111.749 79.5343 116.861 75.4322 122.663 72.3242L127.346 70.1642C128.264 69.8008 128.833 69.6208 129.731 69.2773C135.241 67.1619 140.993 66.0736 146.799 65.8771Z'
        fill='#9999FF'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M155.477 188.471C155.794 189.834 162.09 202.001 163.211 204.244C164.541 206.906 165.804 209.433 167.177 212.181C168.897 215.624 169.405 218.232 173.621 218.232C176.219 218.232 179.619 212.613 181.653 209.898C183.985 206.782 186.342 203.785 188.655 200.537C190.061 198.561 190.598 199.184 195.335 199.184L211.968 199.159C214.013 198.883 215.86 197.065 215.86 194.72C215.86 192.663 209.903 181.611 208.622 179.047C206.046 173.893 203.629 168.765 200.987 163.769C200.379 164.177 199.579 165.249 198.996 165.944C198.139 166.966 197.849 167.361 196.896 168.307C196.078 169.122 195.477 169.721 194.665 170.54C191.337 173.901 186.181 177.531 182.074 179.966C175.633 183.788 163.026 188.47 155.474 188.47L155.477 188.471Z'
        fill='#9999FF'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M82.6143 194.129C82.6143 200.622 88.7529 199.187 93.3218 199.187C98.4784 199.187 103.633 199.187 108.79 199.187C109.947 200.915 111.155 202.442 112.444 204.161L120.093 214.364C120.932 215.485 122.392 217.771 124.522 218.233H126.068C126.588 218.123 127.14 217.901 127.724 217.533C129.479 216.428 130.081 214.318 131.199 212.082C132.58 209.319 133.785 206.908 135.165 204.145C137.806 198.859 140.288 193.596 142.999 188.471C140.691 188.471 137.41 187.741 135.485 187.358C133.052 186.873 130.748 186.227 128.68 185.535C124.231 184.047 120.281 182.273 116.538 180.125C109.018 175.81 104.35 171.539 98.7359 165.198C98.0393 164.41 98.074 164.853 97.7851 163.769C96.8542 164.451 96.2484 166.248 95.7037 167.341C93.9689 170.813 82.6159 192.838 82.6159 194.126L82.6143 194.129Z'
        fill='#9999FF'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M125.413 114.975C126.106 117.576 135.229 125.407 135.229 128.367C135.229 133.741 134.336 139.851 134.336 143.246C136.806 142.671 146.93 137.73 149.208 137.73C150.771 137.73 158.176 141.002 160.172 141.801C161.35 142.272 162.719 142.929 164.082 143.246C163.587 141.117 163.445 132.725 163.052 129.67C162.648 126.525 166.137 123.726 168.544 120.628C169.328 119.618 172.713 116.069 173.005 114.974C171.731 114.946 166.47 113.488 164.795 113.068C155.476 110.738 157.895 111.372 151.349 101.226C150.879 100.497 149.695 98.7188 149.505 98.0104C148.299 98.3324 145.958 102.833 145.283 103.904L141.264 110.299C139.846 111.891 132.96 113.159 129.754 113.961C128.384 114.303 126.697 114.866 125.411 114.974L125.413 114.975Z'
        fill='#9999FF'
      />
    </svg>
  ),
  EARLY_SUPPORTER: null,
  ADMIN: null,
  COMMUNITY_STAFF: (
    <svg width='40' height='40' viewBox='0 0 299 285' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M298.754 142.419C298.754 157.126 274.906 168.111 270.434 181.329C265.963 194.549 278.631 218.566 270.434 229.551C262.236 240.536 236.153 236.067 224.602 244.445C213.051 252.824 209.881 278.702 195.909 283.358C181.936 288.013 164.795 268.463 149.89 268.463C134.985 268.463 117.285 287.08 103.871 283.358C90.4577 279.634 86.7306 252.824 75.1796 244.445C63.6286 236.067 37.9169 241.094 29.3469 229.551C20.7753 218.007 33.6303 195.294 29.3469 181.329C25.062 167.367 0.654297 157.126 0.654297 142.419C0.654297 127.711 24.5024 116.726 28.9739 103.506C33.4455 90.2882 20.7753 66.2699 28.9739 55.2863C37.1709 44.301 63.442 48.7698 75.1796 40.3905C86.9171 32.0128 89.7116 6.13503 103.686 0.921494C117.658 -4.29204 134.8 16.3738 149.705 16.3738C164.61 16.3738 182.309 -2.24428 195.724 1.47968C209.139 5.20363 212.679 32.0128 224.23 40.3905C235.781 48.7698 261.491 43.7429 270.063 55.2863C278.633 66.8281 265.778 89.5417 270.063 103.506C274.348 117.471 298.755 127.709 298.755 142.419H298.754Z'
        fill='#49021F'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M73.5158 189.674C73.5158 194.468 74.1216 197 77.5994 200.468C81.5031 204.361 87.4569 205.34 92.554 203.069C96.1342 201.475 100.716 196.237 103.483 193.469C108.066 188.883 112.432 184.515 117.018 179.928C121.602 175.342 125.967 170.974 130.553 166.388C132.606 164.333 143.142 154.073 144.012 152.772L125.048 133.652C123.351 134.813 119.857 138.697 118.208 140.346L84.7433 173.827C80.3229 178.25 73.5142 183.645 73.5142 189.674H73.5158Z'
        fill='#FF3366'
      />
      <path fillRule='evenodd' clipRule='evenodd' d='M124.935 120.847L156.763 152.838L188.44 120.994L156.613 89.3016L124.935 120.847Z' fill='#FF3366' />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M169.33 176.295C172.192 176.295 173.933 173.623 175.501 172.054L207.477 140.063C209.067 138.473 211.864 136.626 211.864 133.74C211.864 130.754 207.791 127.77 204.805 124.733C203.369 123.273 201.7 122.264 199.278 123.222C197.649 123.867 196.185 125.767 194.983 126.969C190.967 130.987 159.743 161.591 158.904 163.49C157.194 167.361 160.761 169.658 164.196 173.096C165.531 174.432 166.855 176.295 169.328 176.295H169.33Z'
        fill='#FF3366'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M101.481 107.838C101.481 111.455 103.505 112.391 105.72 114.609C109.086 117.974 109.14 119.147 113.082 119.147C115.261 119.147 122.335 111.228 124.162 109.4L150.191 83.3607C153.586 79.9637 154.727 79.7523 154.727 75.9953C154.727 73.9129 151.462 71.3895 150.191 70.1179C147.974 67.9001 147.038 65.8771 143.423 65.8771C141.174 65.8771 134.218 73.7477 132.343 75.6238L106.167 101.812C104.878 103.102 101.481 105.742 101.481 107.838Z'
        fill='#FF3366'
      />
      <path
        d='M220.2 191.226H150.698C147.598 191.226 145.084 193.465 145.084 196.226V213.241C145.084 216.003 147.598 218.241 150.698 218.241H220.2C223.301 218.241 225.814 216.003 225.814 213.241V196.226C225.814 193.465 223.301 191.226 220.2 191.226Z'
        fill='#FF3366'
      />
    </svg>
  ),
  DISPATCH_MOD: (
    <svg width='40' height='40' viewBox='0 0 299 285' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M298.999 142.419C298.999 157.126 275.151 168.111 270.679 181.329C266.208 194.549 278.878 218.566 270.679 229.551C262.48 240.536 236.397 236.067 224.846 244.445C213.295 252.824 210.126 278.702 196.154 283.358C182.181 288.013 165.04 268.463 150.135 268.463C135.23 268.463 117.53 287.08 104.116 283.358C90.7026 279.634 86.9755 252.824 75.4245 244.445C63.8718 236.067 38.1618 241.094 29.5918 229.551C21.0202 218.007 33.8768 195.294 29.5918 181.329C25.3068 167.367 0.89917 157.126 0.89917 142.419C0.89917 127.711 24.7473 116.726 29.2188 103.506C33.6903 90.2882 21.0202 66.2699 29.2188 55.2863C37.4158 44.301 63.6869 48.7698 75.4245 40.3905C87.162 32.0128 89.9565 6.13503 103.931 0.921494C117.905 -4.29204 135.045 16.3738 149.95 16.3738C164.855 16.3738 182.554 -2.24428 195.969 1.47968C209.382 5.20363 212.922 32.0128 224.475 40.3905C236.026 48.7698 261.736 43.7429 270.308 55.2863C278.878 66.8281 266.023 89.5417 270.308 103.506C274.593 117.471 299 127.709 299 142.419H298.999Z'
        fill='#470036'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M111.873 133.432C111.873 131.86 111.728 130.672 113.182 129.384C114.805 127.947 121.32 127.5 123.49 127.198C125.981 126.853 128.198 126.562 130.784 126.162C135.073 125.5 136.332 125.943 137.18 124.228C138.882 120.785 145.582 106.145 146.985 104.872C149.512 102.58 152.564 103.492 154.411 107.239L162.621 124.022C163.542 125.969 164.153 125.393 168.894 126.08C171.716 126.488 184.92 127.972 186.549 129.249C188.151 130.507 188.021 131.827 188.021 133.43C188.021 135.21 183.236 139.26 181.254 141.241L175.754 146.749C170.83 151.731 171.079 147.444 173.149 159.916C173.502 162.048 173.791 164.057 174.214 166.29C174.838 169.596 176.229 173.424 173.956 175.602C171.264 178.182 168.077 176.114 165.586 174.623L150.144 166.614C148.707 166.419 131.582 176.879 129.124 176.879C126.418 176.879 124.662 174.526 124.662 173.01C124.662 170.787 126.235 162.982 126.702 160.172C127.07 157.952 127.399 156.056 127.808 153.838C128.487 150.159 128.539 150.803 126.377 148.676L115.069 137.671C114.036 136.631 111.87 135.205 111.87 133.43L111.873 133.432ZM149.223 65.8771H150.605C151.81 66.0819 152.99 66.8233 153.946 68.1263C156.831 72.055 158.252 73.1351 161.621 76.5172C169.069 83.9932 178.771 89.2001 188.728 92.5508C197.959 95.6571 204.298 95.639 213.899 95.639C215.552 95.639 216.6 95.0825 218.13 96.1674C218.97 96.762 220.145 98.1772 220.145 99.5083C220.145 113.605 217.724 129.313 213.564 142.326C211.207 149.698 210.182 152.562 207.398 159.369C206.287 162.084 204.994 164.652 203.69 167.266C203.268 168.113 202.997 168.49 202.609 169.16C202.221 169.832 202.02 170.363 201.578 171.104C197.359 178.195 195.299 181.586 189.898 188.287C189.335 188.987 189.122 189.255 188.548 189.914L185.71 193.027C185.118 193.669 185.081 193.88 184.522 194.516C181.801 197.608 175.615 202.839 172.296 205.496C171.16 206.405 170.09 207.115 168.857 208.007L158.279 214.683C153.974 216.923 152.067 218.143 150.214 218.25H149.676C147.838 218.145 145.833 216.952 141.419 214.581C133.414 210.281 126.293 204.634 119.535 198.681L112.396 191.24C96.3426 173.016 85.9305 147.713 81.8717 123.274C80.8202 116.936 79.7473 109.704 79.7473 102.484C79.7473 99.8897 79.3446 97.8833 81.7627 96.1674C83.2928 95.0825 84.3426 95.639 85.9932 95.639H92.538C98.7971 95.639 106.294 94.1461 111.168 92.5541C121.003 89.3438 131.273 83.5308 138.42 76.3685C140.246 74.5404 142.162 72.9369 143.7 70.9387L146.072 67.9546C146.949 66.7754 148.06 66.0769 149.223 65.8787V65.8771Z'
        fill='#FF63F7'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M125.826 135.509C126.174 136.814 132.26 142.381 133.633 143.768C137.645 147.819 138.071 146.227 136.407 155.026C136.046 156.935 135.26 163.31 134.749 164.378L141.874 160.794C149.736 156.223 149.908 155.967 157.778 160.682L165.089 164.38L162.659 150.731C161.903 146.553 164.377 145.598 168.731 141.24C169.88 140.091 173.677 136.766 174.012 135.511C171.539 135.511 164.054 134.165 160.635 133.716C156.141 133.126 156.088 130.298 153.585 125.294C152.758 123.639 150.565 119.755 150.215 118.25H149.619C149.277 119.719 147.107 123.58 146.348 125.094C142.01 133.746 144.207 133.069 135.061 134.337C132.324 134.717 128.691 135.511 125.824 135.511L125.826 135.509Z'
        fill='#FF63F7'
      />
    </svg>
  ),
  GRAPHIC_DESIGNER: (
    <svg width='40' height='40' viewBox='0 0 299 285' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M298.133 143.241C298.133 157.949 274.285 168.934 269.814 182.152C265.342 195.372 278.011 219.389 269.814 230.374C261.615 241.359 235.532 236.89 223.981 245.268C212.43 253.647 209.261 279.525 195.288 284.18C181.314 288.836 164.174 269.286 149.269 269.286C134.364 269.286 116.665 287.903 103.25 284.18C89.8356 280.456 86.1102 253.647 74.5575 245.268C63.0065 236.89 37.2949 241.917 28.7249 230.374C20.1532 218.83 33.0099 196.117 28.7249 182.152C24.4399 168.189 0.0322266 157.949 0.0322266 143.241C0.0322266 128.534 23.8803 117.549 28.3518 104.329C32.8233 91.111 20.1532 67.0928 28.3518 56.1092C36.5488 45.1239 62.8183 49.5927 74.5575 41.2133C86.295 32.8357 89.0911 6.95791 103.064 1.74437C117.036 -3.46917 134.178 17.1967 149.083 17.1967C163.988 17.1967 181.687 -1.42138 195.102 2.30257C208.515 6.02653 212.055 32.8357 223.608 41.2133C235.159 49.5927 260.869 44.5657 269.441 56.1092C278.011 67.6509 265.156 90.3646 269.441 104.329C273.726 118.293 298.132 128.532 298.132 143.241H298.133Z'
        fill='#FFCC00'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M74.2662 80.2291C74.2662 94.4313 87.9383 97.7671 95.6697 91.7345C97.9624 89.946 98.7564 88.321 100.125 85.7332H113.879C112.886 87.089 106.892 90.3572 103.276 93.8417C92.9149 103.826 83.6169 117.024 83.6169 133.075C77.0178 133.075 74.872 133.395 74.2629 137.426V155.645C74.2629 158.307 76.0027 160.049 78.6651 160.049H95.7209C97.9905 160.049 100.673 158.199 100.673 156.196C100.673 136.002 103 133.076 92.4197 133.076C93.2433 123.174 97.7825 113.464 104.096 106.226C105.261 104.891 105.545 104.254 106.848 102.923C113.425 96.1966 127.106 88.1179 135.887 87.388C135.887 96.6211 137.718 94.5436 157.895 94.5436C162.109 94.5436 162.297 91.6272 162.297 87.388C171.352 88.141 181.279 94.6344 188.079 100.125C191.23 102.67 193.921 105.674 196.342 108.923C201.055 115.244 205.069 124.735 205.762 133.076C203.605 133.076 201.796 133.005 200.309 133.676C199.335 134.115 197.509 135.482 197.509 136.929V156.196C197.509 158.199 200.192 160.049 202.461 160.049H219.517C222.178 160.049 223.919 158.308 223.919 155.645V136.929C223.919 135.733 222.833 134.546 221.899 133.996C219.95 132.845 216.94 133.076 214.565 133.076C214.565 115.811 203.148 99.8545 190.047 89.8981C188.485 88.7107 185.084 86.8033 184.303 85.7365H198.057C199.257 88.0056 200.154 89.8255 202.202 91.4984C210.052 97.9042 223.916 94.5122 223.916 80.2324C223.916 67.7856 205.777 63.5216 199.601 74.0709C198.785 75.4647 198.627 76.9295 196.956 76.9295H162.294C162.294 66.2101 162.785 68.1225 140.286 68.1225C135.053 68.1225 135.884 73.3096 135.884 76.9295H101.221C99.5701 76.9295 99.58 75.833 98.7729 74.4243C92.3751 63.2458 74.2612 67.9029 74.2612 80.2324L74.2662 80.2291Z'
        fill='#FF3333'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M111.095 160.617C111.095 163.67 115.42 173.721 116.514 176.663L120.818 188.322C121.433 190.007 121.484 191.444 123.201 191.444H174.92C176.971 191.444 177.15 188.412 178.611 184.678C180.311 180.33 187.024 163.285 187.024 160.618C187.024 158.156 176.914 144.234 174.836 141.435C168.74 133.224 160.477 119.892 154.447 111.741L153.462 150.16C157.922 150.531 163.014 157.183 161.84 164.009C159.381 178.305 139.478 178.604 136.312 164.54C134.95 158.494 139.496 150.589 144.659 150.16V110.526L140.372 116.697C136.619 122.307 111.097 157.462 111.097 160.62L111.095 160.617Z'
        fill='#FF3333'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M111.099 204.637C111.099 211.778 109.62 217.849 115.501 217.849H182.627C188.508 217.849 187.029 211.778 187.029 204.637C187.029 201.975 185.289 200.233 182.627 200.233H115.501C112.839 200.233 111.099 201.974 111.099 204.637Z'
        fill='#FF3333'
      />
    </svg>
  ),
  SITE_MOD: null,
  DEVELOPER: (
    <svg width='40' height='40' viewBox='0 0 299 285' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M298.887 143.241C298.887 157.949 275.039 168.934 270.567 182.152C266.096 195.372 278.766 219.389 270.567 230.374C262.369 241.359 236.286 236.89 224.735 245.268C213.184 253.647 210.015 279.525 196.042 284.18C182.07 288.836 164.928 269.286 150.023 269.286C135.118 269.286 117.418 287.903 104.004 284.18C90.5909 280.456 86.8639 253.647 75.3129 245.268C63.7602 236.89 38.0502 241.917 29.4802 230.374C20.9086 218.83 33.7652 196.117 29.4802 182.152C25.1952 168.189 0.787598 157.949 0.787598 143.241C0.787598 128.534 24.6357 117.549 29.1072 104.329C33.5787 91.111 20.9086 67.0928 29.1072 56.1092C37.3041 45.1239 63.5753 49.5927 75.3129 41.2133C87.0504 32.8357 89.8448 6.95791 103.819 1.74437C117.793 -3.46917 134.933 17.1967 149.838 17.1967C164.743 17.1967 182.443 -1.42138 195.857 2.30257C209.27 6.02653 212.811 32.8357 224.363 41.2133C235.914 49.5927 261.624 44.5657 270.196 56.1092C278.766 67.6509 265.911 90.3646 270.196 104.329C274.481 118.293 298.887 128.532 298.887 143.241Z'
        fill='#013301'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M63.2488 142.526C63.2488 145.233 64.5148 145.656 66.38 147.522L93.1233 174.278C111.991 193.156 109.494 193.968 117.326 186.132C127.692 175.761 128.276 179.645 108.525 159.885C106.023 157.381 92.7254 144.422 91.6839 142.865C92.7799 141.227 113.571 120.797 116.819 117.549C127.322 107.041 126.731 109.008 117.666 99.9363C109.332 91.5982 111.557 93.0086 93.2932 111.282L66.55 138.038C65.4623 139.126 63.2488 140.67 63.2488 142.525V142.526Z'
        fill='#33FF66'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M175.281 107.976C175.281 110.242 177.335 111.897 178.581 113.142C182.635 117.191 206.999 141.193 208.117 142.861C207.001 144.529 182.635 168.531 178.581 172.58C172.883 178.271 174.834 178.482 182.305 185.958C189.896 193.553 188.603 192.356 198.892 182.064L233.251 147.688C235.156 145.782 236.266 144.574 236.552 143.451V142.304C236.281 141.223 235.248 140.032 233.421 138.204L206.678 111.448C187.809 92.5702 190.307 91.7577 182.475 99.5937C181.017 101.052 175.281 106.003 175.281 107.976Z'
        fill='#33FF66'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M124.18 202.482C124.18 205.382 126.088 206.31 128.503 206.963C137.289 209.339 137.705 211.014 140.218 203.286C141.135 200.468 141.769 198.076 142.603 195.175L149.643 171.398C154.708 153.199 161.159 133.648 166.155 115.441C166.847 112.921 167.707 110.036 168.483 107.608C169.354 104.883 170.041 102.109 170.853 99.4797C171.68 96.8044 172.53 94.0515 173.266 91.3944C175.196 84.427 178.14 80.7493 171.314 78.7825C159.515 75.3822 162.2 73.7539 154.863 98.3849L147.754 122.431C146.921 125.229 146.254 127.59 145.466 130.304C144.687 132.98 143.844 135.591 143.063 138.397C140.161 148.823 136.528 159.848 133.658 170.308L124.18 202.482Z'
        fill='#33FF66'
      />
    </svg>
  ),
  VERIFIED: (
    <svg width='40' height='40' viewBox='0 0 299 285' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M298.099 142.419C298.099 157.126 274.251 168.111 269.78 181.329C265.308 194.549 277.978 218.566 269.78 229.551C261.581 240.536 235.498 236.067 223.947 244.445C212.396 252.824 209.227 278.702 195.255 283.358C181.282 288.013 164.14 268.463 149.235 268.463C134.33 268.463 116.631 287.08 103.216 283.358C89.8034 279.634 86.0763 252.824 74.5253 244.445C62.9726 236.067 37.2626 241.094 28.6926 229.551C20.121 218.007 32.9776 195.294 28.6926 181.329C24.4076 167.367 0 157.126 0 142.419C0 127.711 23.8481 116.726 28.3196 103.506C32.7911 90.2882 20.121 66.2699 28.3196 55.2863C36.5166 44.301 62.7877 48.7698 74.5253 40.3905C86.2628 32.0128 89.0573 6.13503 103.031 0.921494C117.006 -4.29204 134.145 16.3738 149.051 16.3738C163.956 16.3738 181.655 -2.24428 195.07 1.47968C208.483 5.20363 212.023 32.0128 223.576 40.3905C235.127 48.7698 260.837 43.7429 269.408 55.2863C277.978 66.8281 265.123 89.5417 269.408 103.506C273.693 117.471 298.099 127.709 298.099 142.419Z'
        fill='#1E4F7D'
      />
      <path
        fillRule='evenodd'
        clipRule='evenodd'
        d='M113.717 194.783L79.9141 160.679C74.3747 155.137 74.3747 146.183 79.9141 140.641L80.9078 139.647C86.4473 134.104 95.5355 134.104 101.075 139.647L123.943 162.666L197.086 89.346C202.626 83.8038 211.714 83.8038 217.254 89.346L218.247 90.3401C223.787 95.8823 223.787 104.836 218.247 110.377L134.168 194.781C128.343 200.323 119.395 200.323 113.715 194.781L113.717 194.783Z'
        fill='#2196F3'
      />
    </svg>
  ),
  TOP_RANKING: null,
  // TOP_RANKING: (
  //   <svg width='30' height='30' viewBox='0 0 28 36' fill='none' xmlns='http://www.w3.org/2000/svg'>
  //     <path
  //       d='M16.5001 0.116699C16.5001 0.116699 17.7334 4.53336 17.7334 8.11669C17.7334 11.55 15.4834 14.3334 12.0501 14.3334C8.60008 14.3334 6.00008 11.55 6.00008 8.11669L6.05008 7.5167C2.68341 11.5167 0.666748 16.7001 0.666748 22.3334C0.666748 29.7001 6.63341 35.6667 14.0001 35.6667C21.3667 35.6667 27.3334 29.7001 27.3334 22.3334C27.3334 13.35 23.0167 5.33336 16.5001 0.116699ZM13.5167 30.6667C10.5501 30.6667 8.15008 28.3334 8.15008 25.4334C8.15008 22.7334 9.90008 20.8334 12.8334 20.2334C15.7834 19.6334 18.8334 18.2167 20.5334 15.9334C21.1834 18.0834 21.5167 20.3501 21.5167 22.6667C21.5167 27.0834 17.9334 30.6667 13.5167 30.6667Z'
  //       fill='url(#paint0_linear)'
  //     />
  //     <defs>
  //       <linearGradient id='paint0_linear' x1='14.0001' y1='0.116699' x2='14.0001' y2='35.6667' gradientUnits='userSpaceOnUse'>
  //         <stop stopColor='#FF0000' />
  //         <stop offset='1' stopColor='#7513F1' />
  //       </linearGradient>
  //     </defs>
  //   </svg>
  // ),

  // SITE_MOD: <></>,
  // DEVELOPER: <></>,
  // EARLY_SUPPORTER: <></>,
  // MOD: <></>,
};

export const PREMIUM_TIER = ['None', 'Tier 1', 'Tier 2', 'Tier 3'];
export const VERIFICATION_LEVEL = ['None', 'Low', 'Medium', 'High', 'Very High'];

export const DEFAULT_BANNER_COLOR = 'rgb(76,29,149)';

const user_badges_display_name = {
  STAFF: 'Staff',
  VERIFIED: 'Verified',
  TOP_RANKING: 'Top rank',
  EARLY_SUPPORTER: '',
  // ADMIN: '', // 16
  // SITE_MOD: '', // 32
  PREMIUM: 'Premium',
  DEVELOPER: 'Developer', // 64
  COMMUNITY_STAFF: 'Community Staff', // 128
  DISPATCH_MOD: 'Dispatch Moderator', // 256
  GRAPHIC_DESIGNER: 'Graphic Designer', // 512
};

export function evalBadges(resolved: { [key: string]: boolean }): [JSX.Element, string][] {
  return Object.entries(resolved).reduce((past, [key, has]) => (has ? [[user_badges[key], user_badges_display_name[key]]].concat(past) : past), []);
}

export function clsx(...args: string[]) {
  return args.filter(Boolean).join(' ');
}

export type bannerTypes = 'color' | 'img' | 'unknown';

export interface resolvedBanner {
  type: bannerTypes;
  color: string | null;
  image: string | null;
}

export const bannerResolverRegExps = {
  COLOR_RGB: /^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/,
  COLOR_HEX: /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,
  IMAGE: /^https:\/\/.*\.(gif|png|jpg)$/,
};

/**
 * Resolve the string based banner to an object data form
 * * Color banner: "color:rgb()" or "color:#hex"
 * * Image banner: "img:https:/--"
 */
export function bannerResolver(bannerResolvable: string): resolvedBanner {
  const type = bannerResolvable.slice(0, bannerResolvable.indexOf(':'));
  const data = bannerResolvable.slice(bannerResolvable.indexOf(':') + 1);
  if (!['color', 'img'].includes(type)) return { type: 'unknown', color: null, image: null };

  if (type === 'img') {
    if (bannerResolverRegExps.IMAGE.test(data)) return { type: 'img', color: null, image: data };
    return { type: 'unknown', color: null, image: null };
  }

  if (type === 'color') {
    if (!bannerResolverRegExps.COLOR_HEX.test(data) && !bannerResolverRegExps.COLOR_RGB.test(data)) return { type: 'color', color: DEFAULT_BANNER_COLOR, image: null };
    return { type: 'color', color: data, image: null };
  }

  return { type: 'unknown', color: null, image: null };
}

export function isBannerResolvable(bannerResolvable: string): boolean {
  const type = bannerResolvable.slice(0, bannerResolvable.indexOf(':'));
  const data = bannerResolvable.slice(bannerResolvable.indexOf(':') + 1);
  if (!['color', 'img'].includes(type)) return false;
  if (data.length <= 0) return false;
  if (type === 'img') return bannerResolverRegExps.IMAGE.test(data);
  if (type === 'color') return bannerResolverRegExps.COLOR_HEX.test(data) || bannerResolverRegExps.COLOR_RGB.test(data);
  return false;
}

/**
 * Flatten the object back into a resolvable banner string
 */
export function bannerFlatten(banner: resolvedBanner): string {
  if (banner.type === 'unknown' || !['color', 'img'].includes(banner.type)) return `color:${DEFAULT_BANNER_COLOR}`;
  const color = banner.color == null ? DEFAULT_BANNER_COLOR : banner.color;
  return `${banner.type}:${banner.type === 'img' ? banner.image : color}`;
}

export function resolveType(str: string): string {
  if (str.startsWith('a_')) return `${str}.gif`;
  return `${str}.png`;
}

export function NormalizeSearchQ(searchFlat: string): string {
  let search = `q=${searchFlat}`;
  const mu = (str: string) => str.replace(/\s+/g, '%20');

  console.log(searchFlat);

  if (searchFlat.match(/^tags:*/i)) {
    const t = [];
    const [, tags] = search.split('tags:');
    tags.split(',').forEach(tag => t.push(mu(tag).replace(/,/g, '')));
    search = `tags=${t.join(',')}`;
  }

  return search;
}
